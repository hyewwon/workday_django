{% extends 'website/base.html' %}
{% load static %}
{% block main %}
<main id="main" class="main">

  <div class="pagetitle mt-2 mb-5">
    <h1>자유 게시판</h1>
  </div><!-- End Page Title -->

  <section class="section profile">
    <div class="card">
      <div class="card-header mb-2">
        <b>목록</b>
      </div>
      <div class="card-body">
        <a type="button" class="btn btn-primary mb-3" style="float: right;" href="{% url 'website:free_board_create' %}">글 작성</a>
        <table class="table table-hover text-center">
          <thead>
            <tr class="table-primary">
              <th scope="col-auto">#</th>
              <th scope="col-auto">제목</th>
              <th scope="col-auto">분류</th>
              <th scope="col-auto">작성자</th>
              <th scope="col-auto">작성일</th>
            </tr>
          </thead>
          <tbody>
          {% if page_obj %}
          {% for i in page_obj %}
          <tr>
            <td>{{forloop.counter}}</td>
            <td><a href="{% url 'website:free_board_detail' i.id %}">{{i.title}}</a></td>
            <td>{{i.board_type__type_name}}</td>
            {% if i.anonymous_flag == "0" %}
            <td>{{i.user__username}}</td>
            {% else %}
            <td>비공개</td>
            {% endif %}
            <td>{{i.created_at}}</td>
          </tr>
          {% endfor %}
          {% else %}
          <tr>
            <td colspan="5">데이터가 없습니다.</td>
          </tr>
          {% endif %}
          </tbody>
        </table>
      </div>
      {% include "pagination.html" %}
    </div>

    <div class="card">
      <div class="card-body mt-3">
        <div class="row">
          <div class="col-1">
            <select name="" id="" class="form-select">
              <option value="">제목/내용</option>
              <option value="">제목</option>
              <option value="">내용</option>
            </select>
          </div>
          <div class="col-2">
            <select name="" id="" class="form-select">
              <option value="" selected disabled>분류</option>
              <option value="all">전체</option>
              {% for type in board_type %}
              <option value="{{type.id}}">{{type.type_name}}</option>
              {% endfor %}
            </select>
          </div>
          <div class="col-8">
            <input type="text" placeholder="검색어를 입력해주세요." class="form-control">
          </div>
          <button class="btn btn-primary col-1">검색</button>
        </div>
      </div>
    </div>
  </section>
</main><!-- End #main -->


{% endblock main %}
{% block javascripts %}
<script src="{% static 'js/pagination.js' %}"></script>
{% endblock javascripts %}